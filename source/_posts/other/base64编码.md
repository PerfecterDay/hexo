---
title: base64编码
date: 2018-05-30 16:29:00
tags: 编码
category: 编码
---

# base64编码
Base64是一种用64个字符来表示任意二进制数据的方法。

二进制数据流里边有很多无法显示的字符，所以我们用记事本打开exe、jpg、pdf等文件时会显示乱码。base64是一种用64个字符将二进制数据流编码为可显示字符的方法。

Base64的原理很简单，首先，准备一个包含64个字符的数组：

['A'~'Z','a'~'z','0'~'9','+','/']

然后，对二进制数据进行处理，每3个字节一组，一共是3x8=24bit，划为4组，每组正好6个bit。计算这个二进制流组的值，因为6位最大表示2^6-1=63，正好为64个字符数组的下标索引（从0开始）。然后用计算的值去字符数组中找到对应的字符作为这组的编码字符。依次对所有的二进制bit编码后就是base64编码了。

如果要编码的二进制数据不是3的倍数，最后会剩下1个或2个字节怎么办？Base64用\x00字节在末尾补足后，再在编码的末尾加上1个或2个=号，表示补了多少字节，解码的时候，会自动去掉。

由上所述，3个字节的数据进行编码后，会变成4个字节，所以编码会增大约33%的数据量。

